<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=" media="screen" type="text/css">
    <link rel="stylesheet" href="/assets/css/print.css" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Docker Unified UIMA Interface (DUUI) | A framework at the dawn of a new era for NLP processing</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Docker Unified UIMA Interface (DUUI)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A framework at the dawn of a new era for NLP processing" />
<meta property="og:description" content="A framework at the dawn of a new era for NLP processing" />
<link rel="canonical" href="http://localhost:4000/tutorial/Tutorial.html" />
<meta property="og:url" content="http://localhost:4000/tutorial/Tutorial.html" />
<meta property="og:site_name" content="Docker Unified UIMA Interface (DUUI)" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Docker Unified UIMA Interface (DUUI)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"A framework at the dawn of a new era for NLP processing","headline":"Docker Unified UIMA Interface (DUUI)","url":"http://localhost:4000/tutorial/Tutorial.html"}</script>
<!-- End Jekyll SEO tag -->


    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>
    <header>
      <div class="inner">
        <a href="http://localhost:4000/">
          <h1>Docker Unified UIMA Interface (DUUI)</h1>
        </a>
        <h2>A framework at the dawn of a new era for NLP processing</h2>

      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1 id="tutorial">Tutorial</h1>

<p>This documentation is designed as a tutorial for the creation and integration of new NLP analysis tools to be used within the <strong>Docker Unified UIMA Interface</strong> (short DUUI).
For this purpose, the tutorial is structured in two parts: a general part describing DUUI and the global context as well as several concrete examples for creating your own components based on existing DUUI components.</p>

<blockquote>
  <p>[!NOTE]
We recommend reading the following publication before using the tutorial: <a href="https://aclanthology.org/2023.findings-emnlp.29"><img src="http://img.shields.io/badge/paper-FindingsEMNLP--2023-fb44ce.svg" alt="EMNLP-2023" /></a></p>
</blockquote>

<h1 id="duui-in-a-nutshell">DUUI in a nutshell</h1>

<h2 id="what-is-duui">What is DUUI?</h2>
<p><strong>Docker Unified UIMA Interface</strong> (DUUI) is a <a href="https://uima.apache.org/">UIMA</a>-based framework for the unified and distributed use of natural language processing (NLP) methods utilizing micro-services such as <a href="https://www.docker.com/">Docker</a> or <a href="https://kubernetes.io/">Kubernetes</a>.
Through DUUI, flexible pipelines for the analysis of unstructured information, currently texts, can be processed based on documents. The processing can be distributed both, horizontally (on several nodes) as well as vertically (several times on the nodes), using a cluster solution for Docker or within Kubernetes.</p>

<p>DUUI is implemented in Java and can be used in this way, whereby a <a href="https://duui.texttechnologylab.org/">web-based solution</a> for encapsulation is currently also being recommended; DUUI essentially consists of three elements:</p>
<ul>
  <li>
    <p><strong>Composer</strong></p>

    <p>It controls the start of the <strong>Component</strong>s (which perform the actual analysis(es)) - and terminates them as well - and is also responsible among other things for performing the analysis.</p>
  </li>
  <li>
    <p><strong>Driver</strong></p>

    <p>DUUI contains a set of <strong>Driver</strong>s which provides an interface for the execution of <strong>Component</strong>s in a respective runtime environment (Docker, Docker Swarm, Kubernetes, Java Runtime Environment, etc.).</p>
  </li>
  <li>
    <p><strong>Component</strong></p>

    <p>A <strong>Component</strong> encapsulates a defined NLP analysis within a Docker image, which is used for analysis as a Docker container independently and autonomously as an instance for analyzing documents as part of a pipeline.
This guide is intended to explain the creation of a <strong>Component</strong>.</p>
  </li>
</ul>

<p>Further information as well as the DUUI project, which can be reused under the <img src="https://img.shields.io/github/license/Texttechnologylab/DockerUnifiedUIMAInterface" alt="GitHub License" />, can be found in the <a href="https://aclanthology.org/2023.findings-emnlp.29"><img src="http://img.shields.io/badge/paper-FindingsEMNLP--2023-fb44ce.svg" alt="publication" /></a>  as well as in the <a href="https://github.com/texttechnologylab/DockerUnifiedUIMAInterface"><img src="https://img.shields.io/badge/GitHub_repository-blue" alt="GitHub repository" /></a>.</p>

<blockquote>
  <p>[!IMPORTANT]
For using DUUI as a Java application, a JRE of at least 17 is required.</p>
</blockquote>

<h2 id="for-whom-is-duui">For whom is DUUI?</h2>
<p>DUUI is designed as a general framework for the uniform analysis of unstructured information (text, video, audio and images) and is intended to be used in a variety of disciplines.
Above all, the straightforward extension of new analysis methods, the completeness of the resulting data as a UIMA document, the reusability in databases and as well as the flexibility of the annotation format in combination with a <a href="https://duui.texttechnologylab.org/">web-based interface</a> should streamline, standardize and improve the utilization of NLP processes.</p>

<p>However, since the usability of DUUI goes hand in hand with the amount of available components and since different analysis methods exist for various applications and research, the development of individual analysis methods as <strong>DUUI-Component</strong>s represents a core task for users.</p>

<h1 id="in-medias-res">In medias res</h1>
<p>With the basics now explained in a nutshell, the tutorial can begin, whereby we also refer to existing <strong>DUUI-Components</strong> that are already available and which can all be used as <a href="https://github.com/texttechnologylab/duui-uima"><img src="https://img.shields.io/badge/blueprints-blue" alt="blueprints" /></a> for new components.</p>

<h2 id="the-creation-of-duui-components">The creation of DUUI components</h2>
<p>In order to create a DUUI component, three building blocks are required, which are explained in detail in the following instructions</p>

<table>
  <thead>
    <tr>
      <th>TypeSystem</th>
      <th>Lua-Script</th>
      <th>Programm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>The TypeSystem (as part of UIMA) defines the schema of the types of annotations which are created by the component. This TypeSystem is necessary for DUUI to understand the annotated document.</td>
      <td>The Lua script enables any component to (de)serialize annotations from a UIMA document in a programming language-independent approach without the need for native UIMA support in the respective programming language.</td>
      <td>The analysis is a script / program which operates as a REST interface and uses or reuses an existing analysis or an existing program to perform the actual NLP analysis.</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>[!TIP]
Generally, the complete <a href="https://github.com/texttechnologylab/UIMATypeSystem">TypeSystem from Texttechnologylab</a> can be integrated in a DUUI tool. But this normally contains far more Types or Typesytems than might be needed for a specific tool. However, the idea of DUUI is that each component only returns the TypeSystem that can be created by the component.</p>
  <h3 id="pipeline">Pipeline</h3>
  <p>The DUUI Pipeline for a component starts with reading the document and ends with writing the annotations back to the document.
The graph below shows the flow of the pipeline. After reading the document, they are passed to a Lua script which extracts the needed information and passes it to the analysis tool. The analysis tool then returns the annotations which will be deserialized by the Lua script and written back to the document.
For a complete pipeline you can check the tutorials.</p>
  <pre><code class="language-mermaid">flowchart LR;
    subgraph Annotation Component
        F["Annotation Tool"] 
        E["Lua"]
    end
    subgraph Composer
        subgraph Z[" "]
            direction LR
            A[Document] --&gt; B[Reader]
            end
        subgraph Y[" "]
            direction RL
            C[Writer] --&gt; D[XMI]
        end
    end
    direction LR
    B -.-&gt; E
    E -- serialize --&gt; F
    F -- deserialize --&gt; E
    E --&gt; C
</code></pre>
  <h3 id="lua-script">Lua script</h3>
  <p>The Lua script is used as a communication interface between the annotation tool and the DUUI composer.
The script contains two parts, the first being the <code class="language-plaintext highlighter-rouge">serialize</code> function that is called to transform the CAS object into a stream that is sent to the annotation tool.
The second part is the <code class="language-plaintext highlighter-rouge">deserialize</code> function that is utilized to transform the output of the annotation tool back into the CAS object.
For different examples of Lua scripts you can check our tutorials.
```mermaid
flowchart LR;
    subgraph Annotation Component
      H[“Annotation Tool”] 
      subgraph LUA 
          subgraph serialize
              direction LR
              E[“CAS \n Transforming”] –&gt; F[OutputStream]
          end
          subgraph deserialize
              direction RL
              G[“Write annotation”]
          end
      end
    end
    subgraph Composer
        subgraph Z[” “]
            direction LR
            A[Document] –&gt; B[Reader]
            end
        subgraph Y[” “]
            direction RL
            C[Writer] –&gt; D[XMI]
        end
    end
    direction LR
    B -.-&gt; E
    F -.-&gt; H
    H -. Output .-&gt; G
    G -.-&gt; C</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
# Docker
Docker is used to run the tool.
Docker containers are used to ensure that the analysis is performed in the same environment, regardless of the underlying host system.
Also, the Docker container is used to ensure that the analysis is reproducible, because every build of the Docker container is versioned, containing all needed code and data (e.g. model files).
The diagram below shows the structure of a Dockerfile:
```mermaid
block-beta
   columns 6
   A["Docker Image"] space B["Expose DUUI Port"] space C["Install Dependencies"] space 
   space space space space space 
   space F["Define Entrypoint"] space E["Define Environment"] space D["Copy Files"]
   
    A --&gt; B
    B --&gt; C
    C --&gt; D
    D --&gt; E
    E --&gt; F
</code></pre></div></div>

<h1 id="rest-interface">Rest Interface</h1>
<p>The DUUI is designed to be used with REST interface, which is defined as:</p>
<pre><code class="language-mermaid">graph TD;
A["REST"] --&gt; B["GET /v1/typesystem"]
A --&gt; C["GET /v1/documentation"]
A --&gt; D["GET /v1/communication_layer"]
A --&gt; E["POST /v1/process"]
%%C --&gt; F["Annotator"]
%%C --&gt; G["Version"]
%%C --&gt; H["Optional Parameters"]
</code></pre>
<p>The REST interface is used as a standardized way to communicate with the DUUI.</p>
<ul>
  <li><strong>GET /v1/typesystem</strong> is the TypeSystem that is used by the analysis tool, which contains all UIMA types.</li>
  <li><strong>GET /v1/documentation</strong> is the documentation of the analysis tool, which should contain at least the annotator name and the version as fields. Optional parameters can be added.</li>
  <li><strong>GET /v1/communication_layer</strong> is the communication layer that is used by the analysis tool. This represents the Lua script, with the serialize and deserialize functions. In this way, DUUI enables the tool to supply its own communication layer that can be easily and dynamically executed in the DUUI context without having DUUI to “know” all tools beforehand.</li>
  <li><strong>POST /v1/process</strong> is the processing function that is used by the analysis tool. This function is called for every CAS document in the pipeline. Therefore, it is the main function of the analysis tool.</li>
</ul>

<h1 id="tutorials">Tutorials</h1>
<p>We have prepared three tutorials with different levels of complexity. All tutorials use Python as the programming platform, however, all languages where a REST service can be created could be used as base for a DUUI tool.</p>

<pre><code class="language-mermaid">graph TD;
    A[Tutorial]--&gt;B[&lt;a href='tutorial/Sentiment'&gt;&lt;b&gt;Simple Sentiment&lt;/b&gt;&lt;/a&gt;]
    A[Tutorial]--&gt;D[&lt;a href='tutorial/HateCheck'&gt;&lt;b&gt;Advance Hate Check&lt;/b&gt;&lt;/a&gt;];
    A[Tutorial]--&gt;C[&lt;a href='tutorial/FactChecking'&gt;&lt;b&gt;Complex Fact Check&lt;/b&gt;&lt;/a&gt;];
</code></pre>

<h1 id="autors">Autors</h1>
<ul>
  <li><a href="https://www.texttechnologylab.org/team/giuseppe-abrami/">Giuseppe Abrami</a></li>
  <li><a href="https://www.texttechnologylab.org/team/mevl%c3%bct-bagci/">Mevlüt Bağcı</a></li>
  <li><a href="https://www.texttechnologylab.org/team/daniel-baumartz/">Daniel Baumartz</a></li>
  <li><a href="https://www.texttechnologylab.org/team/alexander-mehler/">Alexander Mehler</a></li>
</ul>

        </section>

        <aside id="sidebar">
          <img src="/assets/images/DUUI_Logo.png" width="100%">
          
          <a href="https://github.com/texttechnologylab/DockerUnifiedUIMAInterface" target="_blank" class="button"><small>View project on</small> GitHub</a>
          
          
          <a href="https://github.com/texttechnologylab" target="_blank" class="button"><small style="margin-top: -12px;">Powerd by</small>
          <img src="/assets/images/ttlab.png" width="80%;"></a>
<!--          <p class="repo-owner"><a href="https://github.com/texttechnologylab/DockerUnifiedUIMAInterface">Docker Unified UIMA Interface</a> is maintained by <a href="https://github.com/texttechnologylab">Texttechnology Lab</a>.</p>-->
          

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
